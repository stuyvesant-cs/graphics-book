<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Transformations</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Computer Graphics">
<meta property="book:author" content="JonAlf Dyrland-Weaver">
<script>var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'color', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
  },
  chtml: {
    scale: 0.98,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/color', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
  startup: {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script src="https://unpkg.com/lunr/lunr.js"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="https://pretextbook.org/js/0.2/pretext_search.js"></script><link href="https://pretextbook.org/css/0.6/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.2</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.2/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.2/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.2/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link href="https://pretextbook.org/css/0.6/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/setcolors.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="stuy-gfx.html"><span class="title">Computer Graphics:</span> <span class="subtitle">A Language Agnostic Guide to Fakin' It</span></a></h1>
<p class="byline">JonAlf Dyrland-Weaver</p>
</div>
<div id="searchresultsplaceholder" style="display: none">
<button id="closesearchresults" onclick="document.getElementById('searchresultsplaceholder').style.display = 'none'; return false;">x</button><h2>Search Results: <span id="searchterms"></span>
</h2>
<div id="searchempty"><span>No results.</span></div>
<ol id="searchresults"></ol>
</div>
</div></header><nav id="ptx-navbar" class="navbar"><button class="toc-toggle button" aria-label="Show or hide table of contents"><span class="icon">‚ò∞</span><span class="name">Contents</span></button><button id="user-preferences-button" class="user-preferences-button button" title="Modify user preferences"><span id="theavatarbutton" class="name">You!</span><div id="preferences_menu_holder" class="hidden"><ol id="preferences_menu" style="font-family: 'Roboto Serif', serif;">
<li data-env="avatar" tabindex="-1">Choose avatar<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden avatar">
<li data-val="You!" tabindex="-1">
<span id="theYou!" class="avatarcheck">‚úîÔ∏è</span>You!</li>
<li data-val="üò∫" tabindex="-1">
<span id="theüò∫" class="avatarcheck"></span>üò∫</li>
<li data-val="üë§" tabindex="-1">
<span id="theüë§" class="avatarcheck"></span>üë§</li>
<li data-val="üëΩ" tabindex="-1">
<span id="theüëΩ" class="avatarcheck"></span>üëΩ</li>
<li data-val="üê∂" tabindex="-1">
<span id="theüê∂" class="avatarcheck"></span>üê∂</li>
<li data-val="üêº" tabindex="-1">
<span id="theüêº" class="avatarcheck"></span>üêº</li>
<li data-val="üåà" tabindex="-1">
<span id="theüåà" class="avatarcheck"></span>üåà</li>
</ol>
</li>
<li data-env="fontfamily" tabindex="-1">Font family<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fontfamily">
<li data-val="face" data-change="OS" tabindex="-1" style="font-family: 'Open Sans'">
<span id="theOS" class="ffcheck">‚úîÔ∏è</span><span class="name">Open Sans</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
<li data-val="face" data-change="RS" tabindex="-1" style="font-family: 'Roboto Serif'">
<span id="theRS" class="ffcheck"></span><span class="name">Roboto Serif</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
</ol>
</li>
<li data-env="font" tabindex="-1">Adjust font<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fonts">
<li>Size</li>
<li><span id="thesize">12</span></li>
<li data-val="size" data-change="-1" tabindex="-1" style="font-size: 80%">Smaller</li>
<li data-val="size" data-change="1" tabindex="-1" style="font-size: 110%">Larger</li>
<li>Width</li>
<li><span id="thewdth">100</span></li>
<li data-val="wdth" data-change="-5" tabindex="-1" style="font-variation-settings: 'wdth' 60">narrower</li>
<li data-val="wdth" data-change="5" tabindex="-1" style="font-variation-settings: 'wdth' 150">wider</li>
<li>Weight</li>
<li><span id="thewght">400</span></li>
<li data-val="wght" data-change="-50" tabindex="-1" style="font-weight: 200">thinner</li>
<li data-val="wght" data-change="50" tabindex="-1" style="font-weight: 700">heavier</li>
<li>Letter spacing</li>
<li>
<span id="thelspace">0</span><span class="byunits">/200</span>
</li>
<li data-val="lspace" data-change="-1" tabindex="-1">closer</li>
<li data-val="lspace" data-change="1" tabindex="-1">f a r t h e r</li>
<li>Word spacing</li>
<li>
<span id="thewspace">0</span><span class="byunits">/50</span>
</li>
<li data-val="wspace" data-change="-1" tabindex="-1">smaller‚ÄÖgap‚ÄÉ</li>
<li data-val="wspace" data-change="1" tabindex="-1">larger‚ÄÉgap</li>
<li>Line Spacing</li>
<li>
<span id="theheight">135</span><span class="byunits">/100</span>
</li>
<li data-val="height" data-change="-5" tabindex="-1" style="line-height: 1">closer<br>together</li>
<li data-val="height" data-change="5" tabindex="-1" style="line-height: 1.75">further<br>apart</li>
</ol>
</li>
<li data-env="atmosphere" tabindex="-1">Light/dark mode<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden atmosphere">
<li data-val="default" tabindex="-1">
<span id="thedefault" class="atmospherecheck">‚úîÔ∏è</span>default</li>
<li data-val="pastel" tabindex="-1">
<span id="thepastel" class="atmospherecheck"></span>pastel</li>
<li data-val="darktwilight" tabindex="-1">
<span id="thedarktwilight" class="atmospherecheck"></span>twilight</li>
<li data-val="dark" tabindex="-1">
<span id="thedark" class="atmospherecheck"></span>dark</li>
<li data-val="darkmidnight" tabindex="-1">
<span id="thedarkmidnight" class="atmospherecheck"></span>midnight</li>
</ol>
</li>
<li data-env="ruler" tabindex="-1">Reading ruler<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden ruler">
<li data-val="none" tabindex="-1">
<span id="thenone" class="rulercheck">‚úîÔ∏è</span>none</li>
<li data-val="underline" tabindex="-1">
<span id="theunderline" class="rulercheck"></span>underline</li>
<li data-val="lunderline" tabindex="-1">
<span id="thelunderline" class="rulercheck"></span>L-underline</li>
<li data-val="greybar" tabindex="-1">
<span id="thegreybar" class="rulercheck"></span>grey bar</li>
<li data-val="lightbox" tabindex="-1">
<span id="thelightbox" class="rulercheck"></span>light box</li>
<li data-val="sunrise" tabindex="-1">
<span id="thesunrise" class="rulercheck"></span>sunrise</li>
<li data-val="sunriseunderline" tabindex="-1">
<span id="thesunriseunderline" class="rulercheck"></span>sunrise underline</li>
<li class="moveQ">Motion by:</li>
<li data-val="mouse" tabindex="-1">
<span id="themouse" class="motioncheck">‚úîÔ∏è</span>follow the mouse</li>
<li data-val="arrow" tabindex="-1">
<span id="thearrow" class="motioncheck"></span>up/down arrows - not yet</li>
<li data-val="eye" tabindex="-1">
<span id="theeye" class="motioncheck"></span>eye tracking - not yet</li>
</ol>
</li>
</ol></div></button><span class="treebuttons"><a class="previous-button button" href="chapter-3.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="up-button button" href="part-1.html" title="Up"><span class="icon">^</span><span class="name">Up</span></a><a class="next-button button" href="chapter-5.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a></span><div class="searchbox"><div class="searchwidget">
<input id="ptxsearch" type="text" name="terms" placeholder="Search" onchange="doSearch()"><button id="searchbutton" type="button" onclick="doSearch()">üîç</button>
</div></div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar"><nav id="ptx-toc" class="depth2 parts"><ul class="structural">
<li><div class="toc-item"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li>
<div class="toc-item"><a href="part-1.html" class="internal"><span class="codenumber">I</span> <span class="title">2-D structures</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-1.html" class="internal"><span class="codenumber">1</span> <span class="title">Colors, Depth, Space (and Time?)</span></a></div>
<ul class="structural"><li>
<div class="toc-item"><a href="chapter-1.html#section-1" class="internal"><span class="codenumber">1.1</span> <span class="title">Image File Formats</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-1.html#subsection-1" class="internal"><span class="codenumber">1.1.1</span> <span class="title">Vector Formats</span></a></div></li>
<li><div class="toc-item"><a href="chapter-1.html#subsection-2" class="internal"><span class="codenumber">1.1.2</span> <span class="title">Raster Formats</span></a></div></li>
<li><div class="toc-item"><a href="chapter-1.html#subsection-3" class="internal"><span class="codenumber">1.1.3</span> <span class="title">NetPBM File Formats</span></a></div></li>
</ul>
</li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-2.html" class="internal"><span class="codenumber">2</span> <span class="title">Bresenham's Line Algorithm</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-2.html#section-2" class="internal"><span class="codenumber">2.1</span> <span class="title">The Problem</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#section-3" class="internal"><span class="codenumber">2.2</span> <span class="title">Testing Potential Points</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-2.html#section-4" class="internal"><span class="codenumber">2.3</span> <span class="title">Developing the Algorithm</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-2.html#subsection-4" class="internal"><span class="codenumber">2.3.1</span> <span class="title">Round I: Testing Both Points</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-5" class="internal"><span class="codenumber">2.3.2</span> <span class="title">Round II: Testing the Midpoint</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-6" class="internal"><span class="codenumber">2.3.3</span> <span class="title">The Testing Function</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-7" class="internal"><span class="codenumber">2.3.4</span> <span class="title">Round III: Testing No Points!</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-3.html" class="internal"><span class="codenumber">3</span> <span class="title">Edge Lists &amp; Matricies</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-3.html#section-5" class="internal"><span class="codenumber">3.1</span> <span class="title">Using Edge Lists</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-3.html#section-6" class="internal"><span class="codenumber">3.2</span> <span class="title">Matrix Math for Graphics</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-3.html#subsection-8" class="internal"><span class="codenumber">3.2.1</span> <span class="title">Matrix Multiplication</span></a></div></li>
<li><div class="toc-item"><a href="chapter-3.html#subsection-9" class="internal"><span class="codenumber">3.2.2</span> <span class="title">Multiplicative Identity</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="active">
<div class="toc-item"><a href="chapter-4.html" class="internal"><span class="codenumber">4</span> <span class="title">Transformations</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-4.html#section-7" class="internal"><span class="codenumber">4.1</span> <span class="title">Transformation Matrices</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-4.html#subsection-10" class="internal"><span class="codenumber">4.1.1</span> <span class="title">Translation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsection-11" class="internal"><span class="codenumber">4.1.2</span> <span class="title">Dilation</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-4.html#subsection-12" class="internal"><span class="codenumber">4.1.3</span> <span class="title">Rotation</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-1" class="internal"><span class="codenumber">4.1.3.1</span> <span class="title">Z-Axis Rotation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-2" class="internal"><span class="codenumber">4.1.3.2</span> <span class="title">X-Axis Rotation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-3" class="internal"><span class="codenumber">4.1.3.3</span> <span class="title">Y-Axis Rotation</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li><div class="toc-item"><a href="chapter-4.html#section-8" class="internal"><span class="codenumber">4.2</span> <span class="title">Combining Transformations</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-5.html" class="internal"><span class="codenumber">5</span> <span class="title">Parametric Equations &amp; Curves</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-5.html#section-9" class="internal"><span class="codenumber">5.1</span> <span class="title">Parametric Equations</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-5.html#subsection-13" class="internal"><span class="codenumber">5.1.1</span> <span class="title">Parametric Circle</span></a></div></li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-5.html#section-10" class="internal"><span class="codenumber">5.2</span> <span class="title">Splines</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-5.html#subsection-14" class="internal"><span class="codenumber">5.2.1</span> <span class="title">Hermite Curves</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-5.html#subsection-15" class="internal"><span class="codenumber">5.2.2</span> <span class="title">Bezier Curves</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-4" class="internal"><span class="codenumber">5.2.2.1</span> <span class="title">Bezier Line</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-5" class="internal"><span class="codenumber">5.2.2.2</span> <span class="title">Bezier Quadratic</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-6" class="internal"><span class="codenumber">5.2.2.3</span> <span class="title">Bezier Cubic</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-7" class="internal"><span class="codenumber">5.2.2.4</span> <span class="title">Bezier Implementation</span></a></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="part-2.html" class="internal"><span class="codenumber">II</span> <span class="title">3-D Structures</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-6.html" class="internal"><span class="codenumber">6</span> <span class="title">3D Shapes</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-6.html#section-11" class="internal"><span class="codenumber">6.1</span> <span class="title">Box</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-6.html#section-12" class="internal"><span class="codenumber">6.2</span> <span class="title">Sphere</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-6.html#subsection-16" class="internal"><span class="codenumber">6.2.1</span> <span class="title">Sphere Point Generation</span></a></div></li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-6.html#section-13" class="internal"><span class="codenumber">6.3</span> <span class="title">Torus</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-6.html#subsection-17" class="internal"><span class="codenumber">6.3.1</span> <span class="title">Torus Point Generation</span></a></div></li></ul>
</li>
<li><div class="toc-item"><a href="chapter-6.html#section-14" class="internal"><span class="codenumber">6.4</span> <span class="title">Implementing 3D Shapes</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-7.html" class="internal"><span class="codenumber">7</span> <span class="title">Polygons</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-7.html#section-15" class="internal"><span class="codenumber">7.1</span> <span class="title">Polygon Lists</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-7.html#section-16" class="internal"><span class="codenumber">7.2</span> <span class="title">Polygon Based Shapes</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-7.html#subsection-18" class="internal"><span class="codenumber">7.2.1</span> <span class="title">Box</span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-19" class="internal"><span class="codenumber">7.2.2</span> <span class="title">Sphere</span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-20" class="internal"><span class="codenumber">7.2.3</span> <span class="title">Torus</span></a></div></li>
</ul>
</li>
<li><div class="toc-item"><a href="chapter-7.html#section-17" class="internal"><span class="codenumber">7.3</span> <span class="title">Vectors</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li><div class="toc-item"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="chapter" id="chapter-4"><h2 class="heading">
<span class="type">Chapter</span> <span class="codenumber">4</span> <span class="title">Transformations</span>
</h2>
<section class="section" id="section-7"><h3 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">4.1</span> <span class="title">Transformation Matrices</span>
</h3>
<div class="para logical" id="p-27">
<div class="para">In order to perform transformations, we will construct a <em class="emphasis">transformation matrix</em> <span class="process-math">\(F\text{,}\)</span> which can then be applied to our edge matrix <span class="process-math">\(E\)</span> by matrix multiplication. By asserting that the order of multiplication is always <span class="process-math">\(FE\text{,}\)</span> we can constrain <span class="process-math">\(F\)</span> to always be a <span class="process-math">\(4\times4\)</span> matrix. For each transformation, it is helpful to think of it with the following framework:</div>
<ul class="disc">
<li id="li-20"><div class="para" id="p-derived-li-20">What information is required in order to perform the transformation?</div></li>
<li id="li-21"><div class="para" id="p-derived-li-21">What happens to <span class="process-math">\((x, y, z)\)</span> after the transformation is applied?</div></li>
</ul>
<div class="para">While there are many transformations we could create, we will focus on <em class="emphasis">translation</em>, <em class="emphasis">dilation</em>, and <em class="emphasis">rotation</em> for our graphics engine. These will allow us to make interesting manupulations of our images, while also demonstrating how to develop other transformations, if desired.</div>
</div>
<section class="subsection" id="subsection-10"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">4.1.1</span> <span class="title">Translation</span>
</h4>
<div class="para logical" id="p-28">
<div class="para">Translations can be thought of as sliding an image along any axis. Translations should preserve the number of points, the order of the points, as well as the distances between them.</div>
<ul class="disc">
<li id="li-22"><div class="para" id="p-derived-li-22">Necessary information: Translation factors for each component, <span class="process-math">\((a, b, c)\)</span>
</div></li>
<li id="li-23"><div class="para" id="p-derived-li-23">Function: <span class="process-math">\(T_{a, b, c} (x, y, z) \rightarrow (x+a, y+b, z+c)\)</span>
</div></li>
</ul>
<div class="para">You can generate a translation matrix by starting with the Identity matrix, and then replacing the values in the last column with your translation factors like so:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} 1 \amp 0 \amp 0 \amp a
\\\ 0 \amp 1 \amp 0 \amp b
\\\ 0 \amp 0 \amp 1 \amp c
\\\ 0 \amp 0 \amp 0 \amp 1
\end{bmatrix}
\begin{bmatrix} x_0 \amp x_1
\\ y_0 \amp y_1
\\ z_0 \amp z_1
\\ 1 \amp 1\end{bmatrix} =
\begin{bmatrix} x_0 + a \amp x_1 + a
\\y_0 + b \amp y_1 + b
\\z_0 + c \amp z_1 + c
\\ 1 \amp 1 \end{bmatrix}
\end{equation*}
</div>
<div class="para">Note that this simple translation matrix is made possible by including the bottom row of 1s in our edge matrix. Without that, we'd have to include operations like: <span class="process-math">\(\dfrac{x + a}{x}\text{,}\)</span> which would in turn mean that the translation matrix would have to change for <em class="emphasis">every point</em> in the edge matrix, like so:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} \frac{x_0+a}{x_0} \amp 0 \amp 0
\\\ 0 \amp \frac{y_0+b}{y_0} \amp 0
\\\ 0 \amp 0 \amp \frac{z_0+c}{z_0}
\end{bmatrix}
\begin{bmatrix} x_0
\\ y_0
\\ z_0 \end{bmatrix} =
\begin{bmatrix} x_0 + a
\\y_0 + b
\\z_0 + c\end{bmatrix}
\end{equation*}
</div>
</div></section><section class="subsection" id="subsection-11"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">4.1.2</span> <span class="title">Dilation</span>
</h4>
<div class="para logical" id="p-29">
<div class="para">Dilation (or scaling) is enlarging or shrinking an image. Dilations will preserve the number and order of points, but not the distance (unless the dilation factor is 1 for all coordinates). Currently, dilations will be performed with respect ot the origin, meaning that objects not centered at the origin will also move away (when enlarging) or toward (when shrinking) the origin. Eventually, this will be less of a concern, but for now, you can achieve arbitrary dilations by translating to the origin, dilating, and then translating back.</div>
<ul class="disc">
<li id="li-24"><div class="para" id="p-derived-li-24">Necessary information: Dilation factors for each component, <span class="process-math">\((a, b, c)\)</span>
</div></li>
<li id="li-25"><div class="para" id="p-derived-li-25">Function: <span class="process-math">\(D_{a, b, c} (x, y, z) \rightarrow (ax, by, cz)\)</span>
</div></li>
</ul>
<div class="para">You can generate a dilation matrix by starting with the Identity matrix, and then replacing the 1s with your translation factors like so:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} a \amp 0 \amp 0 \amp 0
\\\ 0 \amp b \amp 0 \amp 0
\\\ 0 \amp 0 \amp c \amp 0
\\\ 0 \amp 0 \amp 0 \amp 1
\end{bmatrix}
\begin{bmatrix} x_0 \amp x_1
\\ y_0 \amp y_1
\\ z_0 \amp z_1
\\ 1 \amp 1
\end{bmatrix} =
\begin{bmatrix} ax_0 \amp ax_1
\\by_0 \amp by_1
\\cz_0 \amp cz_1
\\ 1 \amp 1
\end{bmatrix}
\end{equation*}
</div>
<div class="para">Dilations intended to preserve the asptect ratio of the orginal image should use the same value for <span class="process-math">\(a\text{,}\)</span> <span class="process-math">\(b\text{,}\)</span> and <span class="process-math">\(c\text{.}\)</span> Using different values will resulting in stretching/squishing the image in verious dimentions.</div>
</div></section><section class="subsection" id="subsection-12"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">4.1.3</span> <span class="title">Rotation</span>
</h4>
<div class="para" id="p-30">Like dilations rotations will also be performed with respect to the origin. We will be performing 2D rotations in 3D space. So for any rotation, one coordinate will remain fixed, and the others will change based on the rotation. We will refer to the fixed coordinate as the <em class="emphasis">axis of rotation</em>.</div>
<div class="para logical" id="p-31">
<div class="para">Figuring out the rotation function is a bit more complicated than the previous transformations. First let's look at a rotation about the z axis: <div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/images/ch03-z_rotation.png" class="contained"></div> Since the point does not change along the axis of rotation, we only need to conern ourselves with <span class="process-math">\((x, y)\)</span> We need to find a way to represent <span class="process-math">\((x',y')\)</span> based on information we know. Using polar coordinates, we can re-write <span class="process-math">\((x, y)\)</span> as <span class="process-math">\((rcos\phi, rsin\phi)\)</span> Similarly, <span class="process-math">\((x', y')\)</span> can be written as <span class="process-math">\((rcos(\phi+\theta), rsin(\phi+\theta))\)</span> Using the angle sum formula, and the values for <span class="process-math">\((x, y)\)</span> above, we get the following:</div>
<div class="displaymath process-math">
\begin{equation*}
x' = rcos(\phi + \theta) \quad y' = rsin(\phi + \theta)
\end{equation*}
</div>
<div class="displaymath process-math">
\begin{equation*}
x' = rcos\phi cos\theta - rsin\phi sin\theta \quad y' = rsin\phi cos\theta + rcos\phi sin\theta
\end{equation*}
</div>
<div class="displaymath process-math">
\begin{equation*}
x' = xcos\theta - ysin\theta \quad y' = ycos\theta + xsin\theta
\end{equation*}
</div>
<div class="para">This gives us <span class="process-math">\((x', y')\)</span> in terms of values we know. Because rotations change depending on the fixed axis, we will have 3 different rotation functions.</div>
<ul class="disc">
<li id="li-26"><div class="para" id="p-derived-li-26">Necessary information: Angle of rotation, <span class="process-math">\(\theta\)</span> and axis of rotation.</div></li>
<li id="li-27"><div class="para" id="p-derived-li-27">Function: See below for each axis of rotation</div></li>
</ul>
</div>
<section class="subsubsection" id="subsubsection-1"><h5 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">4.1.3.1</span> <span class="title">Z-Axis Rotation</span>
</h5>
<div class="para logical" id="p-32">
<div class="para">Function: <span class="process-math">\(R_{\theta, z-axis} (x, y, z) \rightarrow (xcos\theta-ysin\theta, xsin\theta+ycos\theta,z)\)</span>
</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} cos\theta \amp -sin\theta \amp 0 \amp 0
\\\ sin\theta \amp cos\theta \amp 0 \amp 0
\\\ 0 \amp 0 \amp 1 \amp 0
\\\ 0 \amp 0 \amp 0 \amp 1
\end{bmatrix}
\begin{bmatrix} x_0
\\ y_0
\\ z_0
\\ 1
\end{bmatrix} =
\begin{bmatrix} x_0cos\theta-y_0sin\theta
\\x_0sin\theta + y_0cos\theta
\\z_0
\\ 1
\end{bmatrix}
\end{equation*}
</div>
</div></section><section class="subsubsection" id="subsubsection-2"><h5 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">4.1.3.2</span> <span class="title">X-Axis Rotation</span>
</h5>
<div class="para logical" id="p-33">
<div class="para">Function: <span class="process-math">\(R_{\theta, x-axis} (x, y, z) \rightarrow (x, ycos\theta - zsin\theta, ysin\theta + zcos\theta)\)</span>
</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} 1 \amp 0 \amp 0 \amp 0
\\\ 0 \amp cos\theta \amp -sin\theta \amp 0
\\\ 0 \amp sin\theta \amp cos\theta \amp 0
\\\ 0 \amp 0 \amp 0 \amp 1
\end{bmatrix}
\begin{bmatrix} x_0
\\ y_0
\\ z_0
\\ 1
\end{bmatrix} =
\begin{bmatrix} x_0
\\y_0cos\theta - z_0sin\theta
\\y_0sin\theta + z_0cos\theta
\\ 1
\end{bmatrix}
\end{equation*}
</div>
</div></section><section class="subsubsection" id="subsubsection-3"><h5 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">4.1.3.3</span> <span class="title">Y-Axis Rotation</span>
</h5>
<div class="para logical" id="p-34">
<div class="para">Function: <span class="process-math">\(R_{\theta, y-axis} (x, y, z) \rightarrow (xcos\theta+zsin\theta, y, -xsin\theta + zcos\theta)\)</span>
</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{bmatrix} cos\theta \amp 0 \amp sin\theta \amp 0
\\\ 0 \amp 1 \amp 0 \amp 0
\\\ -sin\theta \amp 0 \amp cos\theta \amp 0
\\\ 0 \amp 0 \amp 0 \amp 1
\end{bmatrix}
\begin{bmatrix} x_0
\\ y_0
\\ z_0
\\ 1
\end{bmatrix} =
\begin{bmatrix} x_0cos\theta+z_0sin\theta
\\y_0
\\-x_0sin\theta + z_0cos\theta
\\ 1
\end{bmatrix}
\end{equation*}
</div>
</div></section></section></section><section class="section" id="section-8"><h3 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">4.2</span> <span class="title">Combining Transformations</span>
</h3>
<div class="para logical" id="p-35">
<div class="para">Let's say we have the following matrices:</div>
<ul class="disc">
<li id="li-28"><div class="para" id="p-derived-li-28">
<span class="process-math">\(E_0\text{:}\)</span> Edge matrix</div></li>
<li id="li-29"><div class="para" id="p-derived-li-29">
<span class="process-math">\(T\text{:}\)</span> Translation</div></li>
<li id="li-30"><div class="para" id="p-derived-li-30">
<span class="process-math">\(D\text{:}\)</span> Dilation</div></li>
<li id="li-31"><div class="para" id="p-derived-li-31">
<span class="process-math">\(R\text{:}\)</span> Rotation</div></li>
</ul>
<div class="para">And we perform the following operations to generate new edge matrices:</div>
<ul class="disc">
<li id="li-32"><div class="para" id="p-derived-li-32">
<span class="process-math">\(E_1 = TE_0\text{:}\)</span> <span class="process-math">\(E_0\text{,}\)</span> moved</div></li>
<li id="li-33"><div class="para" id="p-derived-li-33">
<span class="process-math">\(E_2 = DE_1\text{:}\)</span> <span class="process-math">\(E_0\text{,}\)</span> moved, then scaled</div></li>
<li id="li-34"><div class="para" id="p-derived-li-34">
<span class="process-math">\(E_3 = RE_2\text{:}\)</span> <span class="process-math">\(E_0\text{,}\)</span> moved, then scaled, then rotated</div></li>
</ul>
<div class="para">Substituting back up the chain we get:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{aligned}
E_3 \amp= RE_2 \\
E_3 \amp= R(DE_1) \\
E_3 \amp= R(D(TE_0))
\end{aligned}
\end{equation*}
</div>
<div class="para">Or more clearly, <span class="process-math">\(E_3 = RDTE_0\text{.}\)</span> Becuse matrix multiplication is <em class="emphasis">associative</em>, we can write this as</div>
<div class="displaymath process-math">
\begin{equation*}
E_3 = (RDT)E_0
\end{equation*}
</div>
<div class="para">Which means that we can generate the same image by multipling transformation matrices with each other <em class="emphasis">then</em> multiplying by an edge matrix as we could by multiplying the edge matrix by each transformation matrix <em class="emphasis">separately</em>. This could save lots of time, since all transformation matrices are <span class="process-math">\(4\times4\text{,}\)</span> while our edge matrices are <span class="process-math">\(4\times N\text{.}\)</span>
</div>
</div>
<div class="para logical" id="p-36">
<div class="para">The order is important. Note that:</div>
<div class="displaymath process-math">
\begin{equation*}
(RDT)E_0
\end{equation*}
</div>
<div class="para">is not the same as</div>
<div class="displaymath process-math">
\begin{equation*}
(TDR)E_0
\end{equation*}
</div>
<div class="para">because matrix multiplication is not commutative. The first image would be the reslut of moving, scaling, then rotating. The second would be the result of rotating, scaling, then moving. It is common (since most of us are used to reading left-&gt;right), to think about the appilcation of transformations that way. You have been warned.</div>
</div></section></section></div>
<div class="ptx-content-footer">
<a class="previous-button button" href="chapter-3.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon">^</span><span class="name">Top</span></a><a class="next-button button" href="chapter-5.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a>
</div></main>
</div>
<div id="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
