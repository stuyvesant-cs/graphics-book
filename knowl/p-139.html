<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<h4 class="heading"><span class="type">Paragraph</span></h4>
<div class="para logical">
<div class="para">In practice, calculating vertex normals means maintaining a separate structure that has to be populated before you start rendering your polygons. We donâ€™t know ahead of time what triangles share common vertices, so we have to iterate over our polygon list and do the following:</div>
<ul class="disc">
<li><div class="para">For each polygon, calculate the surface normal.</div></li>
<li><div class="para">For each vertex of a polygon check if it is already in our vertex normal list.</div></li>
<li><div class="para">If a vertex is not in the list already, make a new entry.</div></li>
<li><div class="para">If a vertex is in the list, modify the existing entry (most commonly adding it)</div></li>
<li><div class="para">Once all the polygons have been evaluated, normalize all the vertex normals. (If we keep track of the number of polygons per vertex, we can also average the values before normalizing).</div></li>
</ul>
<div class="para">Most commonly, some hash-table like data structure is used for the vertex normal list, where the keys are the vertices themselves and the values are the normals. This ensures one entry per vertex and allows for quick access later.</div>
</div>
<span class="incontext"><a class="internal" href="chapter-14.html#p-139">in-context</a></span>
</body>
</html>
