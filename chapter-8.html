<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Backface Culling</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Computer Graphics">
<meta property="book:author" content="JonAlf Dyrland-Weaver">
<script>var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'color', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
  },
  chtml: {
    scale: 0.98,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/color', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
  startup: {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script src="https://unpkg.com/lunr/lunr.js"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="https://pretextbook.org/js/0.2/pretext_search.js"></script><link href="https://pretextbook.org/css/0.6/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.2</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.2/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.2/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.2/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link href="https://pretextbook.org/css/0.6/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.6/setcolors.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="stuy-gfx.html"><span class="title">Computer Graphics:</span> <span class="subtitle">A Language Agnostic Guide to Fakin' It</span></a></h1>
<p class="byline">JonAlf Dyrland-Weaver</p>
</div>
<div id="searchresultsplaceholder" style="display: none">
<button id="closesearchresults" onclick="document.getElementById('searchresultsplaceholder').style.display = 'none'; return false;">x</button><h2>Search Results: <span id="searchterms"></span>
</h2>
<div id="searchempty"><span>No results.</span></div>
<ol id="searchresults"></ol>
</div>
</div></header><nav id="ptx-navbar" class="navbar"><button class="toc-toggle button" aria-label="Show or hide table of contents"><span class="icon">☰</span><span class="name">Contents</span></button><button id="user-preferences-button" class="user-preferences-button button" title="Modify user preferences"><span id="theavatarbutton" class="name">You!</span><div id="preferences_menu_holder" class="hidden"><ol id="preferences_menu" style="font-family: 'Roboto Serif', serif;">
<li data-env="avatar" tabindex="-1">Choose avatar<div class="wrap_to_submenu"><span class="to_submenu">▻</span></div>
<ol class="hidden avatar">
<li data-val="You!" tabindex="-1">
<span id="theYou!" class="avatarcheck">✔️</span>You!</li>
<li data-val="😺" tabindex="-1">
<span id="the😺" class="avatarcheck"></span>😺</li>
<li data-val="👤" tabindex="-1">
<span id="the👤" class="avatarcheck"></span>👤</li>
<li data-val="👽" tabindex="-1">
<span id="the👽" class="avatarcheck"></span>👽</li>
<li data-val="🐶" tabindex="-1">
<span id="the🐶" class="avatarcheck"></span>🐶</li>
<li data-val="🐼" tabindex="-1">
<span id="the🐼" class="avatarcheck"></span>🐼</li>
<li data-val="🌈" tabindex="-1">
<span id="the🌈" class="avatarcheck"></span>🌈</li>
</ol>
</li>
<li data-env="fontfamily" tabindex="-1">Font family<div class="wrap_to_submenu"><span class="to_submenu">▻</span></div>
<ol class="hidden fontfamily">
<li data-val="face" data-change="OS" tabindex="-1" style="font-family: 'Open Sans'">
<span id="theOS" class="ffcheck">✔️</span><span class="name">Open Sans</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
<li data-val="face" data-change="RS" tabindex="-1" style="font-family: 'Roboto Serif'">
<span id="theRS" class="ffcheck"></span><span class="name">Roboto Serif</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
</ol>
</li>
<li data-env="font" tabindex="-1">Adjust font<div class="wrap_to_submenu"><span class="to_submenu">▻</span></div>
<ol class="hidden fonts">
<li>Size</li>
<li><span id="thesize">12</span></li>
<li data-val="size" data-change="-1" tabindex="-1" style="font-size: 80%">Smaller</li>
<li data-val="size" data-change="1" tabindex="-1" style="font-size: 110%">Larger</li>
<li>Width</li>
<li><span id="thewdth">100</span></li>
<li data-val="wdth" data-change="-5" tabindex="-1" style="font-variation-settings: 'wdth' 60">narrower</li>
<li data-val="wdth" data-change="5" tabindex="-1" style="font-variation-settings: 'wdth' 150">wider</li>
<li>Weight</li>
<li><span id="thewght">400</span></li>
<li data-val="wght" data-change="-50" tabindex="-1" style="font-weight: 200">thinner</li>
<li data-val="wght" data-change="50" tabindex="-1" style="font-weight: 700">heavier</li>
<li>Letter spacing</li>
<li>
<span id="thelspace">0</span><span class="byunits">/200</span>
</li>
<li data-val="lspace" data-change="-1" tabindex="-1">closer</li>
<li data-val="lspace" data-change="1" tabindex="-1">f a r t h e r</li>
<li>Word spacing</li>
<li>
<span id="thewspace">0</span><span class="byunits">/50</span>
</li>
<li data-val="wspace" data-change="-1" tabindex="-1">smaller gap </li>
<li data-val="wspace" data-change="1" tabindex="-1">larger gap</li>
<li>Line Spacing</li>
<li>
<span id="theheight">135</span><span class="byunits">/100</span>
</li>
<li data-val="height" data-change="-5" tabindex="-1" style="line-height: 1">closer<br>together</li>
<li data-val="height" data-change="5" tabindex="-1" style="line-height: 1.75">further<br>apart</li>
</ol>
</li>
<li data-env="atmosphere" tabindex="-1">Light/dark mode<div class="wrap_to_submenu"><span class="to_submenu">▻</span></div>
<ol class="hidden atmosphere">
<li data-val="default" tabindex="-1">
<span id="thedefault" class="atmospherecheck">✔️</span>default</li>
<li data-val="pastel" tabindex="-1">
<span id="thepastel" class="atmospherecheck"></span>pastel</li>
<li data-val="darktwilight" tabindex="-1">
<span id="thedarktwilight" class="atmospherecheck"></span>twilight</li>
<li data-val="dark" tabindex="-1">
<span id="thedark" class="atmospherecheck"></span>dark</li>
<li data-val="darkmidnight" tabindex="-1">
<span id="thedarkmidnight" class="atmospherecheck"></span>midnight</li>
</ol>
</li>
<li data-env="ruler" tabindex="-1">Reading ruler<div class="wrap_to_submenu"><span class="to_submenu">▻</span></div>
<ol class="hidden ruler">
<li data-val="none" tabindex="-1">
<span id="thenone" class="rulercheck">✔️</span>none</li>
<li data-val="underline" tabindex="-1">
<span id="theunderline" class="rulercheck"></span>underline</li>
<li data-val="lunderline" tabindex="-1">
<span id="thelunderline" class="rulercheck"></span>L-underline</li>
<li data-val="greybar" tabindex="-1">
<span id="thegreybar" class="rulercheck"></span>grey bar</li>
<li data-val="lightbox" tabindex="-1">
<span id="thelightbox" class="rulercheck"></span>light box</li>
<li data-val="sunrise" tabindex="-1">
<span id="thesunrise" class="rulercheck"></span>sunrise</li>
<li data-val="sunriseunderline" tabindex="-1">
<span id="thesunriseunderline" class="rulercheck"></span>sunrise underline</li>
<li class="moveQ">Motion by:</li>
<li data-val="mouse" tabindex="-1">
<span id="themouse" class="motioncheck">✔️</span>follow the mouse</li>
<li data-val="arrow" tabindex="-1">
<span id="thearrow" class="motioncheck"></span>up/down arrows - not yet</li>
<li data-val="eye" tabindex="-1">
<span id="theeye" class="motioncheck"></span>eye tracking - not yet</li>
</ol>
</li>
</ol></div></button><span class="treebuttons"><a class="previous-button button" href="chapter-7.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="up-button button" href="part-2.html" title="Up"><span class="icon">^</span><span class="name">Up</span></a><a class="next-button button" href="part-3.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a></span><div class="searchbox"><div class="searchwidget">
<input id="ptxsearch" type="text" name="terms" placeholder="Search" onchange="doSearch()"><button id="searchbutton" type="button" onclick="doSearch()">🔍</button>
</div></div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar"><nav id="ptx-toc" class="depth2 parts"><ul class="structural">
<li><div class="toc-item"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li>
<div class="toc-item"><a href="part-1.html" class="internal"><span class="codenumber">I</span> <span class="title">2-D structures</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-1.html" class="internal"><span class="codenumber">1</span> <span class="title">Colors, Depth, Space (and Time?)</span></a></div>
<ul class="structural"><li>
<div class="toc-item"><a href="chapter-1.html#section-1" class="internal"><span class="codenumber">1.1</span> <span class="title">Image File Formats</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-1.html#subsection-1" class="internal"><span class="codenumber">1.1.1</span> <span class="title">Vector Formats</span></a></div></li>
<li><div class="toc-item"><a href="chapter-1.html#subsection-2" class="internal"><span class="codenumber">1.1.2</span> <span class="title">Raster Formats</span></a></div></li>
<li><div class="toc-item"><a href="chapter-1.html#subsection-3" class="internal"><span class="codenumber">1.1.3</span> <span class="title">NetPBM File Formats</span></a></div></li>
</ul>
</li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-2.html" class="internal"><span class="codenumber">2</span> <span class="title">Bresenham's Line Algorithm</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-2.html#section-2" class="internal"><span class="codenumber">2.1</span> <span class="title">The Problem</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#section-3" class="internal"><span class="codenumber">2.2</span> <span class="title">Testing Potential Points</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-2.html#section-4" class="internal"><span class="codenumber">2.3</span> <span class="title">Developing the Algorithm</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-2.html#subsection-4" class="internal"><span class="codenumber">2.3.1</span> <span class="title">Round I: Testing Both Points</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-5" class="internal"><span class="codenumber">2.3.2</span> <span class="title">Round II: Testing the Midpoint</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-6" class="internal"><span class="codenumber">2.3.3</span> <span class="title">The Testing Function</span></a></div></li>
<li><div class="toc-item"><a href="chapter-2.html#subsection-7" class="internal"><span class="codenumber">2.3.4</span> <span class="title">Round III: Testing No Points!</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-3.html" class="internal"><span class="codenumber">3</span> <span class="title">Edge Lists &amp; Matricies</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-3.html#section-5" class="internal"><span class="codenumber">3.1</span> <span class="title">Using Edge Lists</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-3.html#section-6" class="internal"><span class="codenumber">3.2</span> <span class="title">Matrix Math for Graphics</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-3.html#subsection-8" class="internal"><span class="codenumber">3.2.1</span> <span class="title">Matrix Multiplication</span></a></div></li>
<li><div class="toc-item"><a href="chapter-3.html#subsection-9" class="internal"><span class="codenumber">3.2.2</span> <span class="title">Multiplicative Identity</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-4.html" class="internal"><span class="codenumber">4</span> <span class="title">Transformations</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-4.html#section-7" class="internal"><span class="codenumber">4.1</span> <span class="title">Transformation Matrices</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-4.html#subsection-10" class="internal"><span class="codenumber">4.1.1</span> <span class="title">Translation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsection-11" class="internal"><span class="codenumber">4.1.2</span> <span class="title">Dilation</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-4.html#subsection-12" class="internal"><span class="codenumber">4.1.3</span> <span class="title">Rotation</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-1" class="internal"><span class="codenumber">4.1.3.1</span> <span class="title">Z-Axis Rotation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-2" class="internal"><span class="codenumber">4.1.3.2</span> <span class="title">X-Axis Rotation</span></a></div></li>
<li><div class="toc-item"><a href="chapter-4.html#subsubsection-3" class="internal"><span class="codenumber">4.1.3.3</span> <span class="title">Y-Axis Rotation</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li><div class="toc-item"><a href="chapter-4.html#section-8" class="internal"><span class="codenumber">4.2</span> <span class="title">Combining Transformations</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-5.html" class="internal"><span class="codenumber">5</span> <span class="title">Parametric Equations &amp; Curves</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-5.html#section-9" class="internal"><span class="codenumber">5.1</span> <span class="title">Parametric Equations</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-5.html#subsection-13" class="internal"><span class="codenumber">5.1.1</span> <span class="title">Parametric Circle</span></a></div></li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-5.html#section-10" class="internal"><span class="codenumber">5.2</span> <span class="title">Splines</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-5.html#subsection-14" class="internal"><span class="codenumber">5.2.1</span> <span class="title">Hermite Curves</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-5.html#subsection-15" class="internal"><span class="codenumber">5.2.2</span> <span class="title">Bezier Curves</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-4" class="internal"><span class="codenumber">5.2.2.1</span> <span class="title">Bezier Line</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-5" class="internal"><span class="codenumber">5.2.2.2</span> <span class="title">Bezier Quadratic</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-6" class="internal"><span class="codenumber">5.2.2.3</span> <span class="title">Bezier Cubic</span></a></div></li>
<li><div class="toc-item"><a href="chapter-5.html#subsubsection-7" class="internal"><span class="codenumber">5.2.2.4</span> <span class="title">Bezier Implementation</span></a></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="part-2.html" class="internal"><span class="codenumber">II</span> <span class="title">3-D Structures</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-6.html" class="internal"><span class="codenumber">6</span> <span class="title">3D Shapes</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-6.html#section-11" class="internal"><span class="codenumber">6.1</span> <span class="title">Box</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-6.html#section-12" class="internal"><span class="codenumber">6.2</span> <span class="title">Sphere</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-6.html#subsection-16" class="internal"><span class="codenumber">6.2.1</span> <span class="title">Sphere Point Generation</span></a></div></li></ul>
</li>
<li>
<div class="toc-item"><a href="chapter-6.html#section-13" class="internal"><span class="codenumber">6.3</span> <span class="title">Torus</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-6.html#subsection-17" class="internal"><span class="codenumber">6.3.1</span> <span class="title">Torus Point Generation</span></a></div></li></ul>
</li>
<li><div class="toc-item"><a href="chapter-6.html#section-14" class="internal"><span class="codenumber">6.4</span> <span class="title">Implementing 3D Shapes</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-7.html" class="internal"><span class="codenumber">7</span> <span class="title">Polygons</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-7.html#section-15" class="internal"><span class="codenumber">7.1</span> <span class="title">Polygon Lists</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-7.html#section-16" class="internal"><span class="codenumber">7.2</span> <span class="title">Polygon Based Shapes</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-7.html#subsection-18" class="internal"><span class="codenumber">7.2.1</span> <span class="title">Box</span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-19" class="internal"><span class="codenumber">7.2.2</span> <span class="title">Sphere</span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-20" class="internal"><span class="codenumber">7.2.3</span> <span class="title">Torus</span></a></div></li>
</ul>
</li>
<li><div class="toc-item"><a href="chapter-7.html#section-17" class="internal"><span class="codenumber">7.3</span> <span class="title">Vectors</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-7.html#section-18" class="internal"><span class="codenumber">7.4</span> <span class="title">Backface Culling</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-7.html#subsection-21" class="internal"><span class="codenumber">7.4.1</span> <span class="title">Calculate <span class="process-math">\(\overrightarrow{N}\)</span></span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-22" class="internal"><span class="codenumber">7.4.2</span> <span class="title">Calculate <span class="process-math">\(\theta\)</span></span></a></div></li>
<li><div class="toc-item"><a href="chapter-7.html#subsection-23" class="internal"><span class="codenumber">7.4.3</span> <span class="title">Putting it all together</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="active">
<div class="toc-item"><a href="chapter-8.html" class="internal"><span class="codenumber">8</span> <span class="title">Backface Culling</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-8.html#section-19" class="internal"><span class="codenumber">8.1</span> <span class="title">Vectors</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-8.html#section-20" class="internal"><span class="codenumber">8.2</span> <span class="title">The Algorithm</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-8.html#subsection-24" class="internal"><span class="codenumber">8.2.1</span> <span class="title">Calculate <span class="process-math">\(\overrightarrow{N}\)</span></span></a></div></li>
<li><div class="toc-item"><a href="chapter-8.html#subsection-25" class="internal"><span class="codenumber">8.2.2</span> <span class="title">Calculate <span class="process-math">\(\theta\)</span></span></a></div></li>
<li><div class="toc-item"><a href="chapter-8.html#subsection-26" class="internal"><span class="codenumber">8.2.3</span> <span class="title">Putting it all together</span></a></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="part-3.html" class="internal"><span class="codenumber">III</span> <span class="title">Motion</span></a></div>
<ul class="structural"><li>
<div class="toc-item"><a href="chapter-9.html" class="internal"><span class="codenumber">9</span> <span class="title">Relative Coordinate Systems</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-9.html#section-21" class="internal"><span class="codenumber">9.1</span> <span class="title">The Global Coordinate System</span></a></div></li></ul>
</li></ul>
</li>
<li>
<div class="toc-item"><a href="part-4.html" class="internal"><span class="codenumber">IV</span> <span class="title">Lighting &amp; Shading</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-10.html" class="internal"><span class="codenumber">10</span> <span class="title">Scanline Conversion</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-10.html#section-22" class="internal"><span class="codenumber">10.1</span> <span class="title">Overview</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-10.html#section-23" class="internal"><span class="codenumber">10.2</span> <span class="title">Scanlines</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-10.html#subsection-27" class="internal"><span class="codenumber">10.2.1</span> <span class="title">Calculating <span class="process-math">\(x_0\)</span></span></a></div></li>
<li><div class="toc-item"><a href="chapter-10.html#subsection-28" class="internal"><span class="codenumber">10.2.2</span> <span class="title">Calculating <span class="process-math">\(x_1\)</span></span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-10.html#section-24" class="internal"><span class="codenumber">10.3</span> <span class="title">The Algorithm</span></a></div>
<ul class="structural"><li><div class="toc-item"><a href="chapter-10.html#subsection-29" class="internal"><span class="codenumber">10.3.1</span> <span class="title">"Special" Triangles</span></a></div></li></ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-11.html" class="internal"><span class="codenumber">11</span> <span class="title">Z Buffering</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-11.html#section-25" class="internal"><span class="codenumber">11.1</span> <span class="title">The Z-Buffer</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter-11.html#section-26" class="internal"><span class="codenumber">11.2</span> <span class="title">Calculating <span class="process-math">\(z\)</span> Values</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-11.html#subsection-30" class="internal"><span class="codenumber">11.2.1</span> <span class="title"><code class="code-inline tex2jax_ignore">scanline_convert</code></span></a></div></li>
<li><div class="toc-item"><a href="chapter-11.html#subsection-31" class="internal"><span class="codenumber">11.2.2</span> <span class="title"><code class="code-inline tex2jax_ignore">draw_line</code> and <code class="code-inline tex2jax_ignore">draw_scanline</code></span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-12.html" class="internal"><span class="codenumber">12</span> <span class="title">Lighting Models</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="chapter-12.html#section-27" class="internal"><span class="codenumber">12.1</span> <span class="title">Light Sources</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-12.html#subsection-32" class="internal"><span class="codenumber">12.1.1</span> <span class="title">Ambient Light</span></a></div></li>
<li><div class="toc-item"><a href="chapter-12.html#subsection-33" class="internal"><span class="codenumber">12.1.2</span> <span class="title">Point Light Sources</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-12.html#section-28" class="internal"><span class="codenumber">12.2</span> <span class="title">Reflection Types</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-12.html#subsection-34" class="internal"><span class="codenumber">12.2.1</span> <span class="title">Ambient Reflection</span></a></div></li>
<li><div class="toc-item"><a href="chapter-12.html#subsection-35" class="internal"><span class="codenumber">12.2.2</span> <span class="title">Diffuse Reflection</span></a></div></li>
<li><div class="toc-item"><a href="chapter-12.html#subsection-36" class="internal"><span class="codenumber">12.2.3</span> <span class="title">Specular Reflection</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter-13.html" class="internal"><span class="codenumber">13</span> <span class="title">Phong Reflection Models</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="chapter-13.html#section-29" class="internal"><span class="codenumber">13.1</span> <span class="title">Overview</span></a></div></li>
<li><div class="toc-item"><a href="chapter-13.html#section-30" class="internal"><span class="codenumber">13.2</span> <span class="title">Ambient Reflection</span></a></div></li>
<li><div class="toc-item"><a href="chapter-13.html#section-31" class="internal"><span class="codenumber">13.3</span> <span class="title">Diffuse Reflection</span></a></div></li>
<li><div class="toc-item"><a href="chapter-13.html#section-32" class="internal"><span class="codenumber">13.4</span> <span class="title">Specular Reflection</span></a></div></li>
<li><div class="toc-item"><a href="chapter-13.html#section-33" class="internal"><span class="codenumber">13.5</span> <span class="title">Putting it All Together</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li><div class="toc-item"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content">
<section class="chapter" id="chapter-8"><h2 class="heading">
<span class="type">Chapter</span> <span class="codenumber">8</span> <span class="title">Backface Culling</span>
</h2>
<section class="introduction" id="introduction-5">Backface Culling is a <em class="emphasis">hidden surface removal</em> algorithm. As the name implies, its purpose is to omit any polygons (or surfaces) that would not be visible normally. Reducind the number of polygons to be rendered will provide a major efficiency boost, especially as we add more complexity (and thus calculations) to our polygon rendering. Backface culling specifically deals with the fact that the back side of a shape is entirely blocked by the front. So at any given viewing angle, you can only see at most half of the 3D shapes we are working with.</section><section class="section" id="section-19"><h3 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">8.1</span> <span class="title">Vectors</span>
</h3>
<section class="introduction" id="introduction-6">Before we get into how backface culling works, we need to take a quick detour to cover some pieces of Vector math. This will also come in handy when we start working with lighting and shading.</section><div class="para" id="p-82">A <a class="external" href="https://en.wikipedia.org/wiki/Euclidean_vector" target="_blank">vector</a><a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-8" id="fn-8"><sup> 1 </sup></a>is a unit that has both direction and magnitude (size). Vectors are written like so: <span class="process-math">\(\lt x, y, z&gt;\)</span> Notice that vector components are placed inside <span class="process-math">\(\lt &gt;\)</span> to differentiate them from points. A point only describes a single point in space, whereas a vector describes a relationship between 2 points (often, not always, an arbitrary point and the origin)</div>
<div class="para logical" id="p-83">
<div class="para">You can think of a vector as describing how you would get from point <span class="process-math">\(A\)</span> to point <span class="process-math">\(B\text{.}\)</span> For example, consider the following two points:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{aligned}
p0 \amp= (4, 10, 0) \\
p1 \amp= (6, 5, 23) \\
\end{aligned}
\end{equation*}
</div>
<div class="para">To get from <span class="process-math">\(p0\)</span> to <span class="process-math">\(p1\text{,}\)</span> you would have to move +2 in x, -5 in y and +23 in z, so we would write the vector as:</div>
<div class="displaymath process-math">
\begin{equation*}
\overrightarrow{A} = \lt 2, -5, 23&gt;
\end{equation*}
</div>
<div class="para">The vector from <span class="process-math">\(p1\)</span> to <span class="process-math">\(p0\)</span> moves in the opposite direction, and would be written as:</div>
<div class="displaymath process-math">
\begin{equation*}
\overrightarrow{B} = \lt -2, 5, -23&gt;
\end{equation*}
</div>
<div class="para">Generally, you can find the vector between 2 points by subtraction. Notationally, vectors are written with a <span class="process-math">\(\rightarrow\)</span> as seen above.</div>
</div></section><section class="section" id="section-20"><h3 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">8.2</span> <span class="title">The Algorithm</span>
</h3>
<div class="para logical" id="p-84">
<div class="para">As mentioend before, backface culling is the process of removing the backwards facing surfaces from our rendering engine. In order to do this, we need to define 2 vectors:</div>
<ol class="decimal">
<li id="li-73"><div class="para" id="p-derived-li-73">
<span class="process-math">\(\overrightarrow{N}\text{:}\)</span> The surface normal, a vector perpendicular to the plane of the polygon (or surface), pointing outward.</div></li>
<li id="li-74"><div class="para" id="p-derived-li-74">
<span class="process-math">\(\overrightarrow{V}\text{:}\)</span> The view vector, a vector pointing out from the plane of the polygon (or surface) into the "eye" of the observer.</div></li>
</ol>
<div class="para">
<div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/images/ch06-backface_culling.png" class="contained" alt="A side-view of a polygon with a vctor poining perpendicular from it, and another vector drawn between the surace and an eye."></div> We can tell if a surface is front or back facing based on the value of <span class="process-math">\(\theta\text{,}\)</span> the angle between <span class="process-math">\(\overrightarrow{N}\)</span> and <span class="process-math">\(\overrightarrow{V}\text{.}\)</span> When <span class="process-math">\(-90 \lt \theta \lt 90\text{,}\)</span> then the surface is visible to the observer. Outside of that range, the surface is pointing away from the observer and is thus a backface. While it is referred to as backface culling, this process could be more accurately described as frontface including. We don't actually remove the backfaces from our polygon lists (if we rotate the shape, then those faces may no longer be back facing!), rather, we check and only draw the polygons facing forward. We can break up backface culling as follows:</div>
<ol class="decimal">
<li id="li-75"><div class="para" id="p-derived-li-75">Calculate <span class="process-math">\(\overrightarrow{N}\)</span>
</div></li>
<li id="li-76"><div class="para" id="p-derived-li-76">Calculate <span class="process-math">\(\theta\)</span>
</div></li>
<li id="li-77"><div class="para" id="p-derived-li-77">IF <span class="process-math">\(-90 \lt \theta \lt 90\text{,}\)</span> draw the triangle.</div></li>
</ol>
</div>
<section class="subsection" id="subsection-24"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.2.1</span> <span class="title">Calculate <span class="process-math">\(\overrightarrow{N}\)</span></span>
</h4>
<div class="para logical" id="p-85">
<div class="para">We can find the surface normal by taking the <em class="emphasis">cross product</em> of two vectors along the edges of the polygon provided that they share one endpoint and point in opposite directions. If we have a trainlge like this: <div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/images/ch06-surface_normal.png" class="contained" alt="A triangle labeled p0, p1, p2"></div> <span class="process-math">\(\overrightarrow{A}\)</span> is the vector from <span class="process-math">\(P_0\)</span> to <span class="process-math">\(P_1\)</span> and <span class="process-math">\(\overrightarrow{B}\)</span> is the vector from <span class="process-math">\(P_0\)</span> to <span class="process-math">\(P_2\text{.}\)</span> We can get the cross procuct like this:</div>
<div class="displaymath process-math">
\begin{equation*}
\begin{aligned}
\overrightarrow{A} \amp= P_1 - P_0 = \lt x_1 - x_0, y_1 - y_0, z_1 - z_0&gt; \\
\overrightarrow{B} \amp= P_2 - P_0 = \lt x_2 - x_0, y_2 - y_0, z_2 - z_0&gt; \\
\overrightarrow{N} \amp= \overrightarrow{A} \times \overrightarrow{B} \\
\overrightarrow{N} \amp= \lt a_yb_z - a_zb_y, a_zb_x - a_xb_z, a_xb_y - a_yb_x&gt;
\end{aligned}
\end{equation*}
</div>
</div></section><section class="subsection" id="subsection-25"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.2.2</span> <span class="title">Calculate <span class="process-math">\(\theta\)</span></span>
</h4>
<div class="para" id="p-86">Before we figure out <span class="process-math">\(\theta\text{,}\)</span> we need to discuss the <em class="emphasis">view vector</em> (<span class="process-math">\(\overrightarrow{V}\)</span>). <span class="process-math">\(\overrightarrow{V}\)</span> is supposed to be a vector that comes out of the plane of a surface and into the observer's eye. So the question is, what is the relationship between the observer and the surface?</div>
<div class="para" id="p-87">For right now, we will assume that the observer is very very very far away from the object. This assumption means that moving left, right, up or down will not have any perceptible effect on what part of the object you are looking at. Think about looking up at the moon, if you move around, you don't start to see a new part of the moon. It looks the same, even if you went from Staten Island up to the Bronx, the moon would look the same. Programatically, this means that we can ignore any changes along the x or y axes.</div>
<div class="para logical" id="p-88">
<div class="para">So z is the important axis, since that determines if you are in front of or behind an object. Remember that z moves in a positive direction out from the screen towards the viewer, so <span class="process-math">\(\overrightarrow{V}\text{,}\)</span> the vector from the object to the viewer, should have a positive z component. For right now we can use <span class="process-math">\(\overrightarrow{V} = \lt 0, 0, 1&gt;\)</span> <aside class="aside aside-like" id="aside-3"><div class="para" id="p-89">We will not be looking at changing <span class="process-math">\(\overrightarrow{V}\)</span> for now, but you can think about what that would mean for the rendered image and what effects that might lead to.</div></aside> for the following reasons:</div>
<ul class="disc">
<li id="li-78"><div class="para" id="p-derived-li-78">We don't care about changes in x and y, so leaving them at 0 is fine.</div></li>
<li id="li-79"><div class="para" id="p-derived-li-79">We need a positive z.</div></li>
<li id="li-80"><div class="para" id="p-derived-li-80">By giving z the value of 1, the total mangnitude of <span class="process-math">\(\overrightarrow{V}\)</span> is 1. This is referred to as a <span class="process-math">\(normalized\)</span> vector.  It's not very important right now, but it will be later on, so we might as well start here.</div></li>
</ul>
</div>
<div class="para logical" id="p-90">
<div class="para">Now that we know both <span class="process-math">\(\overrightarrow{N}\)</span> and <span class="process-math">\(\overrightarrow{V}\text{,}\)</span> there's a little bit of vector math we can use to our advantage to help us find <span class="process-math">\(\theta\text{.}\)</span> The <a class="external" href="https://www.mathsisfun.com/algebra/vectors-dot-product.html" target="_blank">dot prduct</a><a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-9" id="fn-9"><sup> 2 </sup></a> of  <span class="process-math">\(\overrightarrow{N}\)</span> and <span class="process-math">\(\overrightarrow{V}\)</span> is a <em class="emphasis">scalar</em> (not a vector) value equal to the cosine of the angle between them times the product of each vector's magnitude (<span class="process-math">\(M\)</span>). Or, more succintly: <span class="process-math">\(\overrightarrow{N} \cdot \overrightarrow{V} = Mcos\theta\text{.}\)</span> Given two vectors, you can calculate the dot product like so:</div>
<div class="displaymath process-math">
\begin{equation*}
\overrightarrow{N} \cdot \overrightarrow{V} = Mcos\theta = n_xv_x + n_yv_y + n_zv_z
\end{equation*}
</div>
<div class="para">There are properties of <span class="process-math">\(cos\theta\text{,}\)</span> that can help us out a lot. Namely, <span class="process-math">\(cos\theta &gt; 0\)</span> when <span class="process-math">\(-90 \lt \theta \lt 90\)</span> which is conveniently, exactly the range for surfaces we want to see. So it turns out, we only care about whether or not the dot product is positive or negative. If it's positive, then the surface is front facing, and we should draw it, if it's negative, we pass. And since mangnitude is always positive, we don't actually need to worry about it for this calculation (later on, when we get to lighting, we will care about mangnitude, but that's a problem for future us, who will be smarter than present us).</div>
</div></section><section class="subsection" id="subsection-26"><h4 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.2.3</span> <span class="title">Putting it all together</span>
</h4>
<div class="para logical" id="p-91">
<div class="para">Given any triangle starting at <span class="process-math">\(P_0\text{:}\)</span> <aside class="aside aside-like" id="aside-4"><div class="para" id="p-92">The keen observer will note that since <span class="process-math">\(\overrightarrow{V} = \lt 0, 0, 1&gt;\text{,}\)</span> the x and y components of the dot product will be 0. Also, since the z component of <span class="process-math">\(\overrightarrow{V}\)</span> is 1, the dot product will simply be the z component of <span class="process-math">\(\overrightarrow{N}\text{.}\)</span> This is ok for now, but eventually we will actually need the value of the dot product, so it doesn't hurt to do that now anyway.</div></aside>
</div>
<ol class="decimal">
<li id="li-81"><div class="para" id="p-derived-li-81">Calculate <span class="process-math">\(\overrightarrow{N} = \overrightarrow{A} \times \overrightarrow{B}\text{,}\)</span> where <span class="process-math">\(\overrightarrow{A} = P_1 - P_0\text{,}\)</span> and <span class="process-math">\(\overrightarrow{B} = P_2 - P_0\text{.}\)</span>
</div></li>
<li id="li-82"><div class="para" id="p-derived-li-82">Calculate <span class="process-math">\(\overrightarrow{N} \cdot \overrightarrow{V}\text{,}\)</span> where <span class="process-math">\(\overrightarrow{V} = \lt 0, 0, 1&gt;\)</span>
</div></li>
<li id="li-83"><div class="para" id="p-derived-li-83">If <span class="process-math">\(\overrightarrow{N} \cdot \overrightarrow{V} &gt; 0\text{,}\)</span> draw the triangle.</div></li>
</ol>
</div></section></section></section><div class="hidden-content tex2jax_ignore" id="hk-fn-8"><div class="fn"><code class="code-inline tex2jax_ignore">en.wikipedia.org/wiki/Euclidean_vector</code></div></div>
<div class="hidden-content tex2jax_ignore" id="hk-fn-9"><div class="fn"><code class="code-inline tex2jax_ignore">www.mathsisfun.com/algebra/vectors-dot-product.html</code></div></div>
</div>
<div class="ptx-content-footer">
<a class="previous-button button" href="chapter-7.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon">^</span><span class="name">Top</span></a><a class="next-button button" href="part-3.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a>
</div></main>
</div>
<div id="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
